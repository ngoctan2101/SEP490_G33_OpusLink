@inject IHttpContextAccessor HttpContextAccessor;
@using OpusLink.Shared.Enums;
@{
    string? role = HttpContextAccessor.HttpContext.Session.GetString("Role");
    int? userId = HttpContextAccessor.HttpContext.Session.GetInt32("UserId");
    if (role == null)
    {
        role = "Freelancer";
        HttpContextAccessor.HttpContext.Session.SetString("Role", "Freelancer");
    }
    if (role.Equals("Freelancer"))
    {
        <!DOCTYPE html>
        <html lang="en">
        <head>
            <meta charset="UTF-8">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
            @*<link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css" />*@
            @*<link rel="stylesheet" href="~/css/site.css" asp-append-version="true" />
    <link rel="stylesheet" href="~/OpusLink.User.Hosted.styles.css" asp-append-version="true" />*@
            <title>Home</title>
            <style>
                body {
                    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
                }

                footer {
                    padding: 20px 0;
                }

            </style>
        </head>
        <body>
            <!-- Header -->
            <header class="bg-light">
                <div class="container">
                    <nav class="navbar navbar-expand-lg navbar-light">
                        <a class="navbar-brand" href="#" style="font-size:30px;color: #4B32E8;font-weight:bold">OPUSLINK</a>
                        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                            <span class="navbar-toggler-icon"></span>
                        </button>
                        <div class="collapse navbar-collapse" id="navbarNav">
                            <ul class="navbar-nav me-auto">
                                <li class="nav-item">
                                    <a class="nav-link" asp-area="" asp-page="/JOB/FreelancerViewAllJobPage" style="color:#5038ED;margin:0px 10px 0px 10px">Find online job</a>
                                </li>
                                @if (userId != null)
                                {
                                    <li class="nav-item">
                                        <a class="nav-link" asp-area="" asp-page="/JOB/FreelancerViewAllJobOfferedPage" style="color:#5038ED;margin:0px 10px 0px 10px">My Offers</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" asp-area="" asp-page="/JOB/FreelancerViewAllJobSavedPage" style="color:#5038ED;margin:0px 10px 0px 10px">Saved job</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" asp-area="" asp-page="/Chat/ChatList" asp-route-userId="@userId" asp-route-role="@((int)Roles.Freelancer)" style="color:#5038ED;margin:0px 10px 0px 10px">Chat</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" asp-area="" asp-page="/Account/EmailVerify" style="color:#5038ED;margin:0px 10px 0px 10px">EmailVerify</a>
                                    </li>
                                }

                                @if (userId == null)
                                {
                                    <li class="nav-item">
                                        <a class="nav-link" asp-area="" asp-page="/Account/Login" style="color:#5038ED;margin:0px 10px 0px 10px">Login</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" asp-area="" asp-page="/Account/Register" style="color:#5038ED;margin:0px 10px 0px 10px">Register</a>
                                    </li>
                                }

                            </ul>
                            <ul class="navbar-nav ms-auto">
                                <li class="nav-item dropdown">
                                    <a class="nav-link dropdown-toggle" href="#" id="walletDropdown" role="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                        <i class="fas fa-wallet"></i>
                                    </a>
                                    <div class="dropdown-menu" aria-labelledby="walletDropdown">
                                        <p class="dropdown-item-text">Tiền dư: $100</p>
                                        <button class="btn btn-primary dropdown-item" onclick="rutTien()">Rút tiền</button>
                                    </div>
                                </li>
                                <li class="nav-item dropdown">
                                    <a class="nav-link dropdown-toggle" href="#" id="notificationDropdown" role="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                        <i class="fas fa-bell"></i>
                                        <span class="badge bg-danger" id="notificationBadge">3</span>
                                    </a>
                                    <div class="dropdown-menu" aria-labelledby="notificationDropdown">
                                        <p class="dropdown-item-text">Bạn có 3 thông báo mới</p>
                                        <ul class="list-unstyled">
                                            <li class="dropdown-item">Thông báo 1</li>
                                            <li class="dropdown-item">Thông báo 2</li>
                                            <li class="dropdown-item">Thông báo 3</li>
                                        </ul>
                                    </div>
                                </li>
                                <li class="nav-item dropdown">
                                    <a class="nav-link dropdown-toggle" href="#" id="userDropdown" role="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                        <i class="fas fa-user-circle"></i> <!-- Icon hình thể hiện đang ở role nào -->
                                    </a>
                                    <div class="dropdown-menu" aria-labelledby="userDropdown">
                                        <a class="dropdown-item" href="../Index?role=Employer">To Employer Pages</a>
                                        @if (userId != null)
                                        {
                                            <a class="dropdown-item" href="../Freelancer/Profile/Views?id=@userId">Profile</a>
                                            <div class="dropdown-divider"></div>
                                            <a class="dropdown-item" href="../Index?handler=ForLogOut">Logout</a>
                                        }
                                    </div>
                                </li>
                            </ul>
                        </div>
                    </nav>
                </div>
            </header>
            <div class="container-mt5">
                <main role="main" class="pb-3">
                    @RenderBody()
                </main>
            </div>
            <!-- Footer -->
            <footer class="bg-dark text-light mt-5">
                <div class="container text-center">
                    <p>&copy; 2024 Your Website. All Rights Reserved.</p>
                </div>
            </footer>
            <script src="~/lib/jquery/dist/jquery.min.js"></script>
            @*<script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
    <script src="~/js/site.js" asp-append-version="true"></script>*@
            <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
            <script>
                function rutTien() {
                    // Xử lý logic khi rút tiền
                    alert('Bạn đã rút tiền thành công!');
                }
            </script>
        </body>
        </html>
    }
    else if (role.Equals("Employer"))
    {
        <!DOCTYPE html>
        <html lang="en">
        <head>
            <meta charset="UTF-8">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
            @*<link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css" />*@
            @*<link rel="stylesheet" href="~/css/site.css" asp-append-version="true" />
    <link rel="stylesheet" href="~/OpusLink.User.Hosted.styles.css" asp-append-version="true" />*@
            <link rel="stylesheet" href="styles.css">
            <title>Home</title>
            <style>
                body {
                    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
                }

                footer {
                    padding: 20px 0;
                }

            </style>
        </head>
        <body>
            <!-- Header -->
            <header class="bg-light">
                <div class="container">
                    <nav class="navbar navbar-expand-lg navbar-light">
                        <a class="navbar-brand" href="#" style="font-size:30px;color: #4B32E8;font-weight:bold">OpusLink</a>
                        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                            <span class="navbar-toggler-icon"></span>
                        </button>
                        <div class="collapse navbar-collapse" id="navbarNav">
                            <ul class="navbar-nav me-auto">
                                <li class="nav-item">
                                    <a class="nav-link" asp-area="" asp-page="/JOB/EmployerCreateAJobPage" style="color:#5038ED;margin:0px 10px 0px 10px">Post job now</a>
                                </li>
                                @if (userId != null)
                                {
                                    <li class="nav-item">
                                        <a class="nav-link" asp-area="" asp-page="/JOB/EmployerViewAllJobCreatedPage" style="color:#5038ED;margin:0px 10px 0px 10px"> My created job</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" asp-area="" asp-page="/Chat/ChatList" asp-route-userId="@userId" asp-route-role="@((int)Roles.Employer)" style="color:#5038ED;margin:0px 10px 0px 10px">Chat</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" asp-area="" asp-page="/Account/EmailVerify" style="color:#5038ED;margin:0px 10px 0px 10px">EmailVerify</a>
                                    </li>
                                }
                                @if (userId == null)
                                {
                                    <li class="nav-item">
                                        <a class="nav-link" asp-area="" asp-page="/Account/Login" style="color:#5038ED;margin:0px 10px 0px 10px">Login</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" asp-area="" asp-page="/Account/Register" style="color:#5038ED;margin:0px 10px 0px 10px">Register</a>
                                    </li>
                                }
                            </ul>
                            <ul class="navbar-nav ms-auto">
                                <li class="nav-item dropdown">
                                    <a class="nav-link dropdown-toggle" href="#" id="walletDropdown" role="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                        <i class="fas fa-wallet"></i>
                                    </a>
                                    <div class="dropdown-menu" aria-labelledby="walletDropdown">
                                        <p class="dropdown-item-text">Tiền dư: $100</p>
                                        <button class="btn btn-primary dropdown-item" onclick="rutTien()">Rút tiền</button>
                                    </div>
                                </li>
                                <li class="nav-item dropdown">
                                    <a class="nav-link dropdown-toggle" href="#" id="notificationDropdown" role="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                        <i class="fas fa-bell"></i>
                                        <span class="badge bg-danger" id="notificationBadge">3</span>
                                    </a>
                                    <div class="dropdown-menu" aria-labelledby="notificationDropdown">
                                        <p class="dropdown-item-text">Bạn có 3 thông báo mới</p>
                                        <ul class="list-unstyled">
                                            <li class="dropdown-item">Thông báo 1</li>
                                            <li class="dropdown-item">Thông báo 2</li>
                                            <li class="dropdown-item">Thông báo 3</li>
                                        </ul>
                                    </div>
                                </li>
                                <li class="nav-item dropdown">
                                    <a class="nav-link dropdown-toggle" href="#" id="userDropdown" role="button" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                        <i class="fas fa-user-circle"></i> <!-- Icon hình thể hiện đang ở role nào -->
                                    </a>
                                    <div class="dropdown-menu" aria-labelledby="userDropdown">
                                        <a class="dropdown-item" href="../Index?role=Freelancer">To Freelancer Pages</a>
                                        @if (userId != null)
                                        {
                                            <a class="dropdown-item" href="../Employer/Profile/Views?id=@userId">Profile</a>
                                            <div class="dropdown-divider"></div>
                                            <a class="dropdown-item" href="../Index?handler=ForLogOut">Logout</a>
                                        }
                                    </div>
                                </li>
                            </ul>
                        </div>
                    </nav>
                </div>
            </header>
            <div class="container-mt5">
                <main role="main" class="pb-3">
                    @RenderBody()
                </main>
            </div>
            <!-- Footer -->
            <footer class="bg-dark text-light mt-5">
                <div class="container text-center">
                    <p>&copy; 2024 Your Website. All Rights Reserved.</p>
                </div>
            </footer>
            <script src="~/lib/jquery/dist/jquery.min.js"></script>
            @*<script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
    <script src="~/js/site.js" asp-append-version="true"></script>*@
            <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
            <script>
                function rutTien() {
                    // Xử lý logic khi rút tiền
                    alert('Bạn đã rút tiền thành công!');
                }
            </script>
        </body>
        </html>
    }
}

